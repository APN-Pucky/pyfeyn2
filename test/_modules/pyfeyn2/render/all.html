<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pyfeyn2.render.all &mdash; pyfeyn2  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/jupyter-sphinx.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/thebelab.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script src="../../../_static/thebelab-helper.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> pyfeyn2
            <img src="../../../_static/pyfeyn-logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.1.0-13-g37ba9eaa
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Versions:</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://apn-pucky.github.io/pyfeyn2/">Stable</a></li>
<li class="toctree-l1"><a class="reference external" href="https://apn-pucky.github.io/pyfeyn2/test/">Dev</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Links:</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/APN-Pucky/pyfeyn2">GitHub</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FeynML:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../feynml/index.html">FeynML</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Gallery:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../gallery/index.html">Gallery</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Renderers:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../renderers/index.html">Renderers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Interfaces:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../interfaces/index.html">Interfaces</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../_autosummary/pyfeyn2.html">pyfeyn2</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">pyfeyn2</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">pyfeyn2.render.all</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for pyfeyn2.render.all</h1><div class="highlight"><pre>
<span></span>import shutil
import tempfile
import traceback
from typing import List

from matplotlib import pyplot as plt
from pylatex import Figure, NoEscape, SubFigure

from pyfeyn2.render.latex.dot import DotRender
from pyfeyn2.render.latex.feynmp import FeynmpRender
from pyfeyn2.render.latex.latex import LatexRender
from pyfeyn2.render.latex.tikzfeynman import TikzFeynmanRender
from pyfeyn2.render.mpl.feynmanrender import FeynmanRender
from pyfeyn2.render.mpl.mpl import MPLRender
from pyfeyn2.render.pyx.pyxrender import PyxRender
from pyfeyn2.render.text.asciipdf import ASCIIPDFRender
from pyfeyn2.render.text.unicodepdf import UnicodePDFRender
from pyfeyn2.types import get_shapes, get_types

renders = {
    &quot;tikz&quot;: TikzFeynmanRender,
    &quot;pyx&quot;: PyxRender,
    &quot;feynmp&quot;: FeynmpRender,
    &quot;feynman&quot;: FeynmanRender,
    &quot;dot&quot;: DotRender,
    &quot;mpl&quot;: MPLRender,
    &quot;ascii&quot;: ASCIIPDFRender,
    &quot;unicode&quot;: UnicodePDFRender,
}


<div class="viewcode-block" id="AllRender"><a class="viewcode-back" href="../../../_autosummary/pyfeyn2.render.all.AllRender.html#pyfeyn2.render.all.AllRender">[docs]</a>class AllRender(LatexRender):
    &quot;&quot;&quot;Render all diagrams to PDF.&quot;&quot;&quot;

<div class="viewcode-block" id="AllRender.__init__"><a class="viewcode-back" href="../../../_autosummary/pyfeyn2.render.all.AllRender.html#pyfeyn2.render.all.AllRender.__init__">[docs]</a>    def __init__(
        self,
        fd=None,
        documentclass=&quot;standalone&quot;,
        document_options=None,
        *args,
        **kwargs,
    ):
        if document_options is None:
            document_options = [&quot;varwidth&quot;]
        super().__init__(
            *args,
            fd=fd,
            documentclass=documentclass,
            document_options=document_options,
            **kwargs,
        )</div>

<div class="viewcode-block" id="AllRender.render"><a class="viewcode-back" href="../../../_autosummary/pyfeyn2.render.all.AllRender.html#pyfeyn2.render.all.AllRender.render">[docs]</a>    def render(
        self,
        file=None,
        show=True,
        subfigure=False,
        resolution=None,
        width=None,
        height=None,
    ):
        fd = self.fd
        self.dirpath = tempfile.mkdtemp()
        dirpath = self.dirpath

        dynarg = {}
        if show and not subfigure:
            dynarg[&quot;show&quot;] = True
            if resolution is not None:
                dynarg[&quot;resolution&quot;] = resolution
            if width is not None:
                dynarg[&quot;width&quot;] = width
            if height is not None:
                dynarg[&quot;height&quot;] = height
        else:
            dynarg = {&quot;show&quot;: False}

        with self.create(Figure(position=&quot;h!&quot;)):
            for i, name in enumerate(renders):
                render = renders[name]
                if name == &quot;all&quot;:
                    continue
                try:
                    if not subfigure:
                        print(name + &quot;:&quot;)
                    render(fd).render(dirpath + &quot;/&quot; + name + &quot;.pdf&quot;, **dynarg)
                    plt.close()
                except Exception:
                    print(name + &quot; failed:&quot;)
                    print(traceback.format_exc())
                with self.create(SubFigure(position=&quot;b&quot;)) as subfig:
                    subfig.add_image(
                        dirpath + &quot;/&quot; + name + &quot;.pdf&quot;,
                        width=NoEscape(&quot;0.49\\textwidth&quot;),
                    )
                    subfig.add_caption(name)
                if i % 2 == 1:
                    self.append(NoEscape(r&quot;\\&quot;))

        if subfigure:
            super().render(file, show, resolution, width, height)
        shutil.rmtree(self.dirpath)</div>

    @classmethod
    def valid_styles(style: str) -&gt; List[str]:
        return sorted(
            list(set([i for r in renders.values() for i in r.valid_styles()]))
        )

    @classmethod
    def valid_attributes(attr: str) -&gt; List[str]:
        return sorted(
            list(set([i for r in renders.values() for i in r.valid_attributes()]))
        )

    @classmethod
    def valid_types(typ: str) -&gt; List[str]:
        return sorted(get_types())
        # return [i for r in renders.values() for i in r.valid_types()]

    @classmethod
    def valid_shapes(typ: str) -&gt; List[str]:
        return sorted(get_shapes())</div>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Alexander Puck Neuwirth.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>